<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-user-guide/creating_dockerfile_template">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Creating a Dockerfile Template | Iron Bank Manifest Utility</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://metrostar.github.io/ib_manifest_util/user-guide/creating_dockerfile_template"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating a Dockerfile Template | Iron Bank Manifest Utility"><meta data-rh="true" name="description" content="How to build a Dockerfile Template for your repo"><meta data-rh="true" property="og:description" content="How to build a Dockerfile Template for your repo"><link data-rh="true" rel="icon" href="/ib_manifest_util/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://metrostar.github.io/ib_manifest_util/user-guide/creating_dockerfile_template"><link data-rh="true" rel="alternate" href="https://metrostar.github.io/ib_manifest_util/user-guide/creating_dockerfile_template" hreflang="en"><link data-rh="true" rel="alternate" href="https://metrostar.github.io/ib_manifest_util/user-guide/creating_dockerfile_template" hreflang="x-default"><link rel="stylesheet" href="/ib_manifest_util/assets/css/styles.e70c1ad8.css">
<link rel="preload" href="/ib_manifest_util/assets/js/runtime~main.dacbb603.js" as="script">
<link rel="preload" href="/ib_manifest_util/assets/js/main.82292212.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ib_manifest_util/"><div class="navbar__logo"><img src="/ib_manifest_util/img/ib_logo.png" alt="Iron Bank Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ib_manifest_util/img/ib_logo.png" alt="Iron Bank Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Iron Bank Manifest Utility</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ib_manifest_util/introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ib_manifest_util/getting-started/installation">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ib_manifest_util/community/contributing">Community</a><a href="https://github.com/MetroStar/ib_manifest_util" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ib_manifest_util/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/ib_manifest_util/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ib_manifest_util/getting-started/installation">Installation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/ib_manifest_util/category/user-guide">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ib_manifest_util/user-guide/updating_repos">Updating an Iron Bank Repo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ib_manifest_util/user-guide/creating_dockerfile_template">Creating a Dockerfile Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ib_manifest_util/user-guide/creating_dockerfile_templates">Creating Dockerfile Templates</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ib_manifest_util/community/contributing">Contributing</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ib_manifest_util/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ib_manifest_util/category/user-guide"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating a Dockerfile Template</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Creating a Dockerfile Template</h1><p>The IB Manifest package uses
<a href="https://jinja.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Jinja templating</a> for efficiently creating
the <code>Dockerfile</code>.</p><p>The <code>Dockerfile</code> is closely tied to the individual IB Repo; therefore, each IB
Repo will need it&#x27;s own <code>Dockerfile</code> template. This guide will walk you through
creating this template.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The hardening manifest is also built with a Jinja template, but since it&#x27;s the
same for all repos, it is located inside the repo. You won&#x27;t need to
modify it.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-jinja-templating">Understanding Jinja templating<a class="hash-link" href="#understanding-jinja-templating" title="Direct link to heading">​</a></h2><p>Jinja templates are wonderful tools that not only allow us to write a template
with placeholders, but we can also performs some simple code within template.
This allows us to pass in things like lists in order to generate multiple
items without having to explicitely write them all out or know exactly how many
items we have.</p><p>First, we&#x27;ll create a templatized version of our Dockerfile.
Then we&#x27;ll explain how each of these get populated.
Finally, we&#x27;ll test it out.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="make-a-copy-of-the-final-dockerfile">Make a copy of the final Dockerfile<a class="hash-link" href="#make-a-copy-of-the-final-dockerfile" title="Direct link to heading">​</a></h2><p>The best approach to creating the Jinja template is to start with what will
be your final output Dockerfile. This is the Dockerfile that is currently
operational in your IB Repo.</p><p>As an example, we provide a sample one here (this has been pared down a bit so
dont expect it to work):</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> Click here for Sample Dockerfile</summary><div><div class="collapsibleContent_i85q"><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ARG BASE_REGISTRY=registry1.dso.mil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG BASE_IMAGE=ironbank/opensource/metrostar/miniconda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG BASE_TAG=4.12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM ${BASE_REGISTRY}/${BASE_IMAGE}:${BASE_TAG}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SHELL [&quot;/usr/bin/bash&quot;, &quot;-c&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG NB_USER=&quot;jovyan&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG NB_UID=&quot;1000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARG NB_GID=&quot;100&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV CONDA_PATH=&quot;/opt/conda&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NB_USER=&quot;${NB_USER}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NB_UID=&quot;${NB_UID}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NB_GID=&quot;${NB_GID}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN yum install mesa-libGL -y &amp;&amp; yum clean all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN mkdir /home/${NB_USER} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; chown -R ${NB_USER}:${NB_USER} /home/${NB_USER}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV LOCAL_CONDA_CHANNEL=&quot;/home/${NB_USER}/local-channel&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#create directory for our local conda channel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN mkdir -p ${LOCAL_CONDA_CHANNEL} &amp;&amp; chown -R ${NB_USER}:${NB_USER} ${LOCAL_CONDA_CHANNEL}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#copy over local-channel metadata configuration files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --chown=${NB_USER}:${NB_USER} /config/linux-64/repodata.json ${LOCAL_CONDA_CHANNEL}/linux-64/repodata.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --chown=${NB_USER}:${NB_USER} /config/noarch/repodata.json ${LOCAL_CONDA_CHANNEL}/noarch/repodata.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN chown -R ${NB_USER}:${NB_USER} ${LOCAL_CONDA_CHANNEL}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;fonts-conda-ecosystem-1-0.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;geopandas-base-0.11.1-pyha770c72_0.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;cloudpickle-2.1.0-pyhd8ed1ab_0.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;${LOCAL_CONDA_CHANNEL}/noarch/&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;libnetcdf-4.8.1-nompi_h21705cb_104.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;tornado-6.1-py39hb9d737c_3.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;curl-7.83.1-h7bff187_0.tar.bz2&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;${LOCAL_CONDA_CHANNEL}/linux-64/&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;openmp_mutex-4.5-2_gnu.tar.bz2&quot;, &quot;${LOCAL_CONDA_CHANNEL}/linux-64/_openmp_mutex-4.5-2_gnu.tar.bz2&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;libgcc_mutex-0.1-conda_forge.tar.bz2&quot;, &quot;${LOCAL_CONDA_CHANNEL}/linux-64/_libgcc_mutex-0.1-conda_forge.tar.bz2&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># additional scripts that get added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;code_server.tar.gz&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;start.sh&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;start-notebook.sh&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;start-singleuser.sh&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;/home/${NB_USER}/&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN mv &quot;/home/${NB_USER}/code_server.tar.gz&quot; /usr/local/bin/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; mv &quot;/home/${NB_USER}/start.sh&quot; /usr/local/bin/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; mv &quot;/home/${NB_USER}/start-notebook.sh&quot; /usr/local/bin/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; mv &quot;/home/${NB_USER}/start-singleuser.sh&quot; /usr/local/bin/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; chmod +x /usr/local/bin/start.sh \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; chmod +x /usr/local/bin/start-notebook.sh \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; chmod +x /usr/local/bin/start-singleuser.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN chown -R ${NB_USER}:${NB_USER} ${LOCAL_CONDA_CHANNEL}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV PATH=&quot;${CONDA_PATH}/bin:$PATH&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /home/${NB_USER}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#remove cve findings and cleanup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN dnf clean all &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dnf remove -y bzip2 gcc &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -rf info &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conda clean -yaf &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -rf /root/micromamba/pkgs/tornado-6.1-py39h3811e60_1/lib/python3.9/site-packages/tornado/test/test.key &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -rf /info &amp;&amp; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -rf /home/${NB_USER}/.conda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER ${NB_USER}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure container startup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT [&quot;tini&quot;, &quot;--&quot;, &quot;/usr/bin/bash&quot;,&quot;.init/start.sh&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>As you can see, we have a lot going on in this Dockerfile. However, we only
need to make changes to the package list. When we run IB Manifest, it will
generate an updated list of packages. These will be fed into our Jinja template
in order to update the Dockerfile.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="templatizing-the-dockerfile">Templatizing the Dockerfile<a class="hash-link" href="#templatizing-the-dockerfile" title="Direct link to heading">​</a></h2><p>Now we&#x27;ll replace the sections of the Dockefile which contain the packages with
Jinja template code.</p><p>IB Manifest will generate a dictionary of variables. The Jinja template engine
will consume this dictionary and use it to construct our Dockerfile.</p><p>You can immediately replace the COPY sections with packages with the template
commands, but we recommend the following approach which lends itself well to
testing.</p><p>Below is the structure of the dictionary that our Jinja template is going
to expect. You can see we have separate items for <code>noarch_packages</code>,
<code>linux_packages</code>, and <code>underscore_packages</code> (these need special handling to
pass Iron Bank security screening). Let&#x27;s begin by copying the package lists
from your Dockerfile into this dictionary. Note that the final item in the
COPY list is the location to which they will be copied. We won&#x27;t need that here.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;noarch_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;fonts-conda-ecosystem-1-0.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;geopandas-base-0.11.1-pyha770c72_0.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;cloudpickle-2.1.0-pyhd8ed1ab_0.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;linux_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;libnetcdf-4.8.1-nompi_h21705cb_104.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;tornado-6.1-py39hb9d737c_3.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;curl-7.83.1-h7bff187_0.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;underscore_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;openmp_mutex-4.5-2_gnu.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;libgcc_mutex-0.1-conda_forge.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that we have those copied over, we are ready to copy in our Jinja commands.
Replace the COPY statements for those sections with:</p><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># noarch packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [ \{%- for pkg in noarch_packages %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;{{ pkg }}&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{%- endfor %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;${LOCAL_CONDA_CHANNEL}/noarch/&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># linux packages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [ \{%- for pkg in linux_packages %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;{{ pkg }}&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{%- endfor %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;${LOCAL_CONDA_CHANNEL}/linux-64/&quot;, \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># special handling for packages with underscores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{%- for pkg in underscore_packages %}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY [&quot;{{ pkg }}&quot;, &quot;${LOCAL_CONDA_CHANNEL}/linux-64/_{{ pkg }}&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{%- endfor %}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We suggest saving this file in your IB Repo as <code>/config/Dockerfile.tpl</code>.</p><p>The Jinja template engine will accept the variable lists from our <code>content</code>
dictionary and unpack them for us!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-template-to-create-a-dockerfile">Using the template to create a Dockerfile<a class="hash-link" href="#using-the-template-to-create-a-dockerfile" title="Direct link to heading">​</a></h2><p>At this point, you are ready to run <code>update_repo</code>. However, a little
testing would be prudent.</p><p>There is an example script in the package that can be modified.</p><p>We can use the low-level function <code>write_templatized_file</code> to test out if our
changes above worked as expected. Below is a sample script that you can use
for testing (adapted from
<code>ib_manifest_util/examples/create_dockerfile_template.py</code>).</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> ib_manifest_util</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">util </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> write_templatized_file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template_filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Dockerfile.tpl&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;template/directory/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;output_Dockerfile&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;noarch_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;fonts-conda-ecosystem-1-0.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;geopandas-base-0.11.1-pyha770c72_0.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;cloudpickle-2.1.0-pyhd8ed1ab_0.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;linux_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;libnetcdf-4.8.1-nompi_h21705cb_104.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;tornado-6.1-py39hb9d737c_3.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;curl-7.83.1-h7bff187_0.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;underscore_packages&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;openmp_mutex-4.5-2_gnu.tar.bz2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;libgcc_mutex-0.1-conda_forge.tar.bz2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write_templatized_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_filename</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">template_filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template_dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">template_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Confirm that the output Dockerfile looks as expected and you&#x27;ve done it! Now
all that&#x27;s left is to push the Dockerfile template up to the IB Repo! ✨</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ib_manifest_util/user-guide/updating_repos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Updating an Iron Bank Repo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ib_manifest_util/user-guide/creating_dockerfile_templates"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Creating Dockerfile Templates</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-jinja-templating" class="table-of-contents__link toc-highlight">Understanding Jinja templating</a></li><li><a href="#make-a-copy-of-the-final-dockerfile" class="table-of-contents__link toc-highlight">Make a copy of the final Dockerfile</a></li><li><a href="#templatizing-the-dockerfile" class="table-of-contents__link toc-highlight">Templatizing the Dockerfile</a></li><li><a href="#using-the-template-to-create-a-dockerfile" class="table-of-contents__link toc-highlight">Using the template to create a Dockerfile</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ib_manifest_util/getting-started/installation">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MetroStar/ib_manifest_util/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open an Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MetroStar/ib_manifest_util" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 MetroStar. Built with Docusaurus.</div></div></div></footer></div>
<script src="/ib_manifest_util/assets/js/runtime~main.dacbb603.js"></script>
<script src="/ib_manifest_util/assets/js/main.82292212.js"></script>
</body>
</html>